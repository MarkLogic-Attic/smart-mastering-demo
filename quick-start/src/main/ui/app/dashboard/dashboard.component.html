<div class="dashboard" layout-padding layout="row" layout-align="center center">
  <div flex layout="column" layout-align="center start" class="databases">
    <div layout="row" flex layout-align="center center" class="section-header">
      <div class="section-title">Databases <i class="fa fa-database"></i></div>
    </div>
    <div layout="column" layout-align="center center">
      <div class="delete-all-row" layout="row" layout-align="center end">
        <div class="mdl-layout-spacer"></div>
        <button id="clear-all-databases" mdl-button mdl-button-type="icon" mdl-colored="primary" mdl-ripple
          (click)="clearAllDatabases()"
          tooltip="This will remove all documents from all of your Data Hub Databases!">
          <i class="mdi mdi-skull"></i>
        </button>
      </div>
      <div layout="row" layout-align="center center" *ngFor="let row of rows">
        <div class="info-card" mdl-shadow="2" *ngFor="let db of databases.slice(row * 2, (row * 2) + 2)">
          <div class="info-title"><i class="mdi mdi-database"></i> {{db | titlecase }}</div>
          <div class="info-body" layout="column" *ngIf="!stats">
            <div class="info-column" layout="column" layout-align="center center">
              <mdl-spinner single-color active></mdl-spinner>
              <div>Loading...</div>
            </div>
          </div>
          <div class="info-body" layout="row" *ngIf="stats">
            <div class="info-column" layout="column" layout-align="center center">
              <div class="column-head">Documents</div>
              <div class="column-body">{{getDbCount(db) | number}}</div>
            </div>
            <div class="mdl-layout-spacer"></div>
            <div class="info-column" layout="column" layout-align="end center">
              <button mdl-button mdl-button-type="icon" mdl-colored="primary" mdl-ripple
                (click)="clearDatabase(db)"
                tooltip="This will clear out any documents in your {{db | titlecase}} database.">
                <i class="mdi mdi-delete"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div flex layout="column" layout-align="center start" class="smart-mastering">
    <div layout="row" flex layout-align="center center" class="section-header">
      <div class="section-title">Smart Mastering <img src="/assets/img/smart-mastering.svg"></div>
      <div class="mdl-layout-spacer"></div>
    </div>
    <div layout="row" layout-align="center center">
      <div class="info-card" mdl-shadow="2">
        <div class="info-title"><i class="mdi mdi-database"></i> All Documents</div>
        <div class="info-body" layout="column" *ngIf="!masteringStats">
          <div class="info-column" layout="column" layout-align="center center">
            <mdl-spinner single-color active></mdl-spinner>
            <div>Loading...</div>
          </div>
        </div>
        <div class="info-body" layout="row" *ngIf="masteringStats">
          <div class="info-column" layout="column" layout-align="center center">
            <div class="column-body" *ngIf="masteringStats">{{masteringStats.docCount}}</div>
          </div>
        </div>
      </div>
      <div class="info-card" mdl-shadow="2">
        <div class="info-title"><i class="mdi mdi-database"></i> Merged Documents</div>
        <div class="info-body" layout="column" *ngIf="!masteringStats">
          <div class="info-column" layout="column" layout-align="center center">
            <mdl-spinner single-color active></mdl-spinner>
            <div>Loading...</div>
          </div>
        </div>
        <div class="info-body" layout="row" *ngIf="masteringStats">
          <div class="info-column" layout="column" layout-align="center center">
            <div class="column-body" *ngIf="masteringStats">{{masteringStats.mergeCount}}</div>
          </div>
        </div>
      </div>
    </div>
    <div layout="row" layout-align="center center">
      <div class="info-card" mdl-shadow="2">
        <div class="info-title"><i class="mdi mdi-database"></i> Instance Documents</div>
        <div class="info-body" layout="column" *ngIf="!masteringStats">
          <div class="info-column" layout="column" layout-align="center center">
            <mdl-spinner single-color active></mdl-spinner>
            <div>Loading...</div>
          </div>
        </div>
        <div class="info-body" layout="row" *ngIf="masteringStats">
          <div class="info-column" layout="column" layout-align="center center">
            <div class="column-body" *ngIf="masteringStats">{{masteringStats.instanceCount}}</div>
          </div>
        </div>
      </div>
      <div class="info-card" mdl-shadow="2">
        <div class="info-title"><i class="mdi mdi-database"></i> Notifications</div>
        <div class="info-body" layout="column" *ngIf="!masteringStats">
          <div class="info-column" layout="column" layout-align="center center">
            <mdl-spinner single-color active></mdl-spinner>
            <div>Loading...</div>
          </div>
        </div>
        <div class="info-body" layout="row" *ngIf="masteringStats">
          <div class="info-column" layout="column" layout-align="center center">
            <div class="column-body" *ngIf="masteringStats">{{masteringStats.notificationCount}}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
